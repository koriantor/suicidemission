<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="suicidemission.css">
<link href='korataki.ttf' rel='stylesheet' type='text/css'>

<script type="text/javascript">
NodeList.prototype.forEach = Array.prototype.forEach;
function checkAllBoxes() {
  var elements = document.getElementsByTagName('INPUT');
  
  elements.forEach(function(element) {
    if (element.type === 'checkbox') {
      element.click();
    }
  });
}


function calculateAverage(){
  var total_strength = 0;
  var total_squad = 0;
  var average_strength = 0;

  var heavy = document.getElementsByName("heavysquad");
  for (var i = 0; i < heavy.length; i++){
    if (heavy[i].checked === true){
      total_strength += 3;
      total_squad += 1;
    }
  }

  var medium = document.getElementsByName("mediumsquad");
  for (i = 0; i < medium.length; i++){
    if (medium[i].checked === true){
      total_strength += 1;
      total_squad += 1;
    }
  }

  var light = document.getElementsByName("lightsquad");
  for (i = 0; i < light.length; i++){
    if (light[i].checked === true){
      total_squad += 1;
    }
  }

  var loyl = document.getElementsByName("loyal");
  for (i = 0; i < loyl.length; i++){
    if (loyl[i].checked === true){
      total_strength += 1;
    }
  }

  average_strength = total_strength / total_squad;


  document.getElementById("resulttxt").innerHTML = average_strength.toFixed(2);
}

</script>
</head>
<title> Kill ALL your friends!</title>

<body>
<div id="friends">
  <table id = "friendtbl">
      <tr>
        <td><input type="checkbox" name="heavysquad" value="Garrus"> Garrus <br></td>
        <td><input type="checkbox" name="loyal" value="loyal"> Loyal<br></td>

        <td class = "tbldivide"><input type="checkbox" name="mediumsquad" value="Jacob"> Jacob<br></td>
        <td><input type="checkbox" name="loyal" value="loyal"> Loyal<br></td>
      </tr>
      <tr>
        <td><input type="checkbox" name="heavysquad" value="Grunt"> Grunt <br></td>
        <td><input type="checkbox" name="loyal" value="loyal"> Loyal<br></td>

        <td class = "tbldivide"><input type="checkbox" name="mediumsquad" value="Miranda"> Miranda<br></td>
        <td><input type="checkbox" name="loyal" value="loyal"> Loyal<br></td>
      </tr>
      <tr>
        <td><input type="checkbox" name="heavysquad" value="Zaeed"> Zaeed<br></td>
        <td><input type="checkbox" name="loyal" value="loyal"> Loyal<br></td>

        <td class = "tbldivide"><input type="checkbox" name="lightsquad" value="Jack"> Jack<br></td>
        <td><input type="checkbox" name="loyal" value="loyal"> Loyal<br></td>
      </tr>
      <tr>
        <td><input type="checkbox" name="mediumsquad" value="Thane"> Thane<br></td>
        <td><input type="checkbox" name="loyal" value="loyal"> Loyal<br></td>

        <td class = "tbldivide"><input type="checkbox" name="lightsquad" value="Kasumi"> Kasumi<br></td>
        <td><input type="checkbox" name="loyal" value="loyal"> Loyal<br></td>
      </tr>
      <tr>
        <td><input type="checkbox" name="mediumsquad" value="Legion"> Legion<br></td>
        <td><input type="checkbox" name="loyal" value="loyal"> Loyal<br></td>

        <td class = "tbldivide"><input type="checkbox" name="lightsquad" value="Tali"> Tali<br></td>
        <td><input type="checkbox" name="loyal" value="loyal"> Loyal<br></td>
      </tr>
      <tr>
        <td><input type="checkbox" name="mediumsquad" value="Samara"> Samara/Morinth<br></td>
        <td><input type="checkbox" name="loyal" value="loyal"> Loyal<br></td>

        <td class = "tbldivide"><input type="checkbox" name="lightsquad" value="Mordin"> Mordin<br></td>
        <td><input type="checkbox" name="loyal" value="loyal"> Loyal<br></td>
      </tr>


  </table>
  
  <button onClick="checkAllBoxes()" type="button">
    CHECK ALL BOXES
  </button>
  
  <div class = "results">
    <button onclick="calculateAverage()" type="button"> GET RESULTS </button>
    <p id="resulttxt"> 0 </p>
  </div>
</div>
<p> Loyal will always increase total squad value by 1, even if a squadmate is not checked.</p>
<p> If a Loyal box is checked and its squadmate is not, then it will screw up the calculation. </p>

<script>
console.log('hi');
document.getElementById('friendtbl').addEventListener('click', function(event) {
  if (event.target.tagName === 'TD') {
    event.target.childNodes[0].click();
  }
});

</script>

</body>
</html>
